<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tiling experiment</title>

    <style>
        canvas {
            /* background: green; */
            border: 2px solid red;
            border-radius: 5px;
        }

    </style>
</head>
<body>
   <canvas 
        id="game-space" 
        height="250" 
        width="250"
        data-pixel-size="10"></canvas> 

   <script>
        const gameSpaceCanvas = document.querySelector('#game-space')
        const gameSpaceCanvasContext = gameSpaceCanvas.getContext('2d')
        const { height, width } = gameSpaceCanvas
        const { pixelSize } = gameSpaceCanvas.dataset
        const numberOfColums = width / pixelSize
        const numberOfRows = height / pixelSize
        let firstLoad = true

        function renderTiles() {
            if(height % pixelSize !== 0 || width % pixelSize !== 0) throw new Error('Provide a valid pixel size')
            const getFillColour = (i, j) => {
                const condition = j % 2 === 0

                if(i % 2 === 0) return condition ? 'red': 'white'
                return condition ? 'white': 'red'
            }

            for(let i = 0; i <= numberOfRows; i++) {
                // Draw colums
                for(let j = 0; j <= numberOfColums; j++) {
                    const x = j * pixelSize
                    const y = i * pixelSize
                    const fillColour = getFillColour(i, j)
                    
                    gameSpaceCanvasContext.fillStyle = fillColour
                    gameSpaceCanvasContext.fillRect(x, y, pixelSize, pixelSize)
                }
            }
        }

        const Player = {
            fillColour: 'black',
            isFirstLoad: true,
            
            render() {
                if (this.isFirstLoad) {
                    const middleValue = ((numberOfColums - 1) / 2 ) 
                    this.x = middleValue * pixelSize
                    this.y = middleValue * pixelSize
                }

                gameSpaceCanvasContext.fillStyle = this.fillColour
                gameSpaceCanvasContext.fillRect(this.x, this.y, pixelSize, pixelSize)
            }

        }

        const PlayerController = {
            register() {

            },

            up() {

            },

            down() {},

            left() {},

            right() {

            },
        }

        function main() {
            gameSpaceCanvasContext.beginPath()
            renderTiles()
            Player.render()
            gameSpaceCanvasContext.closePath()
        }
        main()
        // setTimeout(main, 1000)
   </script>
</body>
</html>

